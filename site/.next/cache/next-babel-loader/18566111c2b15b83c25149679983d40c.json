{
  "ast": null,
  "code": "import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/carolinekrone/Documents/GitHub/bold/site/components/Image.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react';\nimport { darkTheme, useStyles } from '../../lib';\nexport function Image(props) {\n  var _useStyles = useStyles(function () {\n    return {\n      image: {\n        maxWidth: '100%'\n      }\n    };\n  }),\n      theme = _useStyles.theme,\n      classes = _useStyles.classes;\n\n  var _useState = useState(props.src),\n      currentSource = _useState[0],\n      setCurrentSource = _useState[1];\n\n  useEffect(function () {\n    var _$exec = /(.*)\\/(.*\\..*)$/.exec(props.src || ''),\n        _$exec2 = _slicedToArray(_$exec, 3),\n        path = _$exec2[1],\n        filename = _$exec2[2];\n\n    var darkSource = \"\".concat(path, \"/dark-\").concat(filename);\n    setCurrentSource(theme === darkTheme ? darkSource : props.src);\n  }, [theme, props]);\n\n  var handleError = function handleError() {\n    setCurrentSource(props.src);\n  };\n\n  return __jsx(\"img\", _extends({}, props, {\n    src: currentSource,\n    onError: handleError,\n    className: classes.image,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }));\n}",
  "map": {
    "version": 3,
    "sources": ["/Users/carolinekrone/Documents/GitHub/bold/site/components/Image.tsx"],
    "names": [
      "useEffect",
      "useState",
      "darkTheme",
      "useStyles",
      "Image",
      "props",
      "image",
      "maxWidth",
      "theme",
      "classes",
      "src",
      "currentSource",
      "setCurrentSource",
      "exec",
      "path",
      "filename",
      "darkSource",
      "handleError"
    ],
    "mappings": ";;;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,SAASC,SAAT,EAAoBC,SAApB,QAAqC,WAArC;AAEA,OAAO,SAASC,KAAT,CAAeC,KAAf,EAAiE;AAAA,mBAC3CF,SAAS,CAAC;AAAA,WAAO;AAC1CG,MAAAA,KAAK,EAAE;AACLC,QAAAA,QAAQ,EAAE;AADL;AADmC,KAAP;AAAA,GAAD,CADkC;AAAA,MAC9DC,KAD8D,cAC9DA,KAD8D;AAAA,MACvDC,OADuD,cACvDA,OADuD;;AAAA,kBAO5BR,QAAQ,CAACI,KAAK,CAACK,GAAP,CAPoB;AAAA,MAO/DC,aAP+D;AAAA,MAOhDC,gBAPgD;;AAQtEZ,EAAAA,SAAS,CAAC,YAAM;AAAA,iBACa,kBAAkBa,IAAlB,CAAuBR,KAAK,CAACK,GAAN,IAAa,EAApC,CADb;AAAA;AAAA,QACLI,IADK;AAAA,QACCC,QADD;;AAEd,QAAMC,UAAU,aAAMF,IAAN,mBAAmBC,QAAnB,CAAhB;AACAH,IAAAA,gBAAgB,CAACJ,KAAK,KAAKN,SAAV,GAAsBc,UAAtB,GAAmCX,KAAK,CAACK,GAA1C,CAAhB;AACD,GAJQ,EAIN,CAACF,KAAD,EAAQH,KAAR,CAJM,CAAT;;AAMA,MAAMY,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBL,IAAAA,gBAAgB,CAACP,KAAK,CAACK,GAAP,CAAhB;AACD,GAFD;;AAIA,SAAO,0BAASL,KAAT;AAAgB,IAAA,GAAG,EAAEM,aAArB;AAAoC,IAAA,OAAO,EAAEM,WAA7C;AAA0D,IAAA,SAAS,EAAER,OAAO,CAACH,KAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;AACD",
    "sourcesContent": [
      "import { useEffect, useState } from 'react'\n\nimport { darkTheme, useStyles } from '../../lib'\n\nexport function Image(props: React.ImgHTMLAttributes<HTMLImageElement>) {\n  const { theme, classes } = useStyles(() => ({\n    image: {\n      maxWidth: '100%',\n    },\n  }))\n\n  const [currentSource, setCurrentSource] = useState(props.src)\n  useEffect(() => {\n    const [, path, filename] = /(.*)\\/(.*\\..*)$/.exec(props.src || '')\n    const darkSource = `${path}/dark-${filename}`\n    setCurrentSource(theme === darkTheme ? darkSource : props.src)\n  }, [theme, props])\n\n  const handleError = () => {\n    setCurrentSource(props.src)\n  }\n\n  return <img {...props} src={currentSource} onError={handleError} className={classes.image} />\n}\n"
    ]
  },
  "metadata": {},
  "sourceType": "module"
}
